# üß† PRMBuffer v1.0.0

![version](https://img.shields.io/badge/version-1.0.0-blue)
![python](https://img.shields.io/badge/python-%3E%3D3.9-blue)
![license](https://img.shields.io/badge/license-MIT-green)

*A Partial-Retention Memory buffer for motif access, salience decay, and short-to-long-term memory transitions in Noor's STMM architecture.*

---

## üìñ Overview

`PRMBuffer` implements the short-term symbolic memory substrate in Noor, known as the **Short-Term Motif Memory (STMM)**. It uses a tick-based, bucketed memory design that reinforces motif access, decays over symbolic time, and surfaces candidates for promotion into long-term memory structures.

This module serves as a volatile working memory buffer, tuned for responsiveness, rebirth alignment, and promotion readiness as defined in Noor's RFC‚Äë0005‚Äì0007.

---

```mermaid
flowchart TD
    A["record_access"] --> B["Add to Tick Bucket"]
    B --> C["Apply Reinforcement"]
    C --> D["decay_pass"]
    D --> E["Advance Tick"]
    E --> F["Decay Salience"]
    F --> G["Purge Old Buckets"]
    G --> H["promotion_candidates"]
    H --> I{"Salience >= theta_up"}
    I -->|Yes| J["Promote to LTMM"]

    style A fill:#e3f2fd,stroke:#2196f3
    style B fill:#fff8e1,stroke:#ffc107
    style C fill:#f1f8e9,stroke:#8bc34a
    style D fill:#ede7f6,stroke:#673ab7
    style E fill:#e0f7fa,stroke:#00acc1
    style F fill:#fbe9e7,stroke:#ff7043
    style G fill:#fce4ec,stroke:#ec407a
    style H fill:#fffde7,stroke:#fbc02d
    style I fill:#c8e6c9,stroke:#4caf50
````

---

## üß† Core Capabilities

| Feature                    | Description                                                      |
| -------------------------- | ---------------------------------------------------------------- |
| **Tick-Based Memory**      | Time is modeled in symbolic ticks, with salience stored per tick |
| **Reinforcement Logic**    | Motif access boosts salience using configurable strength         |
| **Exponential Decay**      | Salience fades each tick, modulating memory retention            |
| **Promotion Thresholding** | Motifs crossing `theta_up` become LTMM promotion candidates      |
| **Reset-Friendly**         | `reset()` clears state for rebirth or symbolic reinit            |
| **RFC Anchored Design**    | Fully compliant with RFC‚Äë0005‚Äì0007 core memory contracts         |

---

## ‚ú® New in v1.0.0

| Feature                  | Description                                                               |
| ------------------------ | ------------------------------------------------------------------------- |
| `reinforcement_strength` | Configurable boost per motif access                                       |
| Tick Purging             | Old tick buckets removed during `decay_pass()` to limit memory growth     |
| Verbose Export           | `export_state(verbose=True)` shows full buffer, else applies `delta_down` |
| RFC Anchors              | Each method mapped to precise architectural references                    |
| Embedded Test Vectors    | Built-in tests for decay, promotion, and threshold logic                  |

---

## üß© Core API

| Method                    | Effect                                                   |
| ------------------------- | -------------------------------------------------------- |
| `record_access(motif_id)` | Reinforces motif salience in current tick                |
| `decay_pass()`            | Applies decay, advances tick, and purges expired buckets |
| `get_active_motifs()`     | Aggregates motif salience over active tick window        |
| `promotion_candidates()`  | Returns motifs eligible for promotion                    |
| `reset()`                 | Clears buffer and resets symbolic tick                   |
| `export_state(verbose)`   | Returns buffer state with optional pruning               |

---

## üõ†Ô∏è Quick Example

```python
from motif_prm_buffer import PRMBuffer

stmm = PRMBuffer(reinforcement_strength=0.2)
stmm.record_access("curiosity")
stmm.decay_pass()
candidates = stmm.promotion_candidates()
print("Candidates:", candidates)
```

---

## üß™ Test Vectors

* ‚úÖ Basic access + decay
* ‚úÖ Promotion eligibility after 10 reinforcements
* ‚úÖ Drop below `delta_down` via exponential decay
* ‚úÖ Export with and without verbosity

---

## üì° RFC Compliance

| RFC          | Anchored Sections                               |
| ------------ | ----------------------------------------------- |
| **RFC‚Äë0005** | ¬ß4.1, ¬ß4.2, ¬ß4.3 ‚Äì Access, Decay, Promotion     |
| **RFC‚Äë0006** | ¬ß2 ‚Äì Rebirth, Reset, Export Interfaces          |
| **RFC‚Äë0007** | ¬ß3 ‚Äì Short-Term Continuity Across Symbolic Time |

---

## üìÑ License

MIT License ‚Ä¢ ¬© 2025 Lina Noor / Noor Research Collective
